\documentclass[tikz,border=5pt]{standalone}
\usepackage{tikz}
\usepackage{xparse}
\usepackage{musicography}

\usetikzlibrary{calc}

\newif\ifrotateKeySignatures
\newif\ifsaxKeys



\newcommand{\drawSimpleSaxDiagram}[0]{%
  %\draw[help lines,xstep=.1,ystep=.1] (0,0) grid (1,1);
  %\foreach \x in {0,1,...,9} { \node [anchor=north] at (\x/10,0) {0.\x}; }
  %\foreach \y in {0,1,...,9} { \node [anchor=east] at (0,\y/10) {0.\y}; }

  %CÃ³digo para dibujar el Saxophone
  \begin{tikzpicture}
  \draw [fill=blue] (0.67,1.0) ellipse (0.04cm and 0.09cm);
  \draw [fill=green] (0.685,0.95) ellipse (0.03cm and 0.13cm);
  \draw [fill=green] (0.69,0.90) ellipse (0.03cm and 0.13cm);
  \draw [fill=green] (0.68,0.85) ellipse (0.03cm and 0.13cm);
  \draw [fill=blue] (0.67,0.9) circle[radius=0.08cm];
  \draw [fill=purple] (0.65,0.9) circle[radius=0.08cm];
  \draw [fill=blue] (0.67,0.8) circle[radius=0.06cm];
  \draw [fill=gray] (0.67,0.7) circle[radius=0.08cm];
  \draw [fill=yellow] (0.67,0.6) circle[radius=0.08cm];
  \draw [fill=yellow] (0.69,0.6) ellipse (0.1cm and 0.03cm);
  \draw [fill=yellow,rounded corners=0.025cm] (0.683,0.54) rectangle (0.688,0.58);
  \draw [fill=yellow,rounded corners=0.025cm] (0.690,0.54) rectangle (0.695,0.58);
  \draw [fill=yellow] (0.69,0.52) ellipse (0.1cm and 0.03cm);
  \draw[] (0.635,0.6) -- ++(0.07,-0.2);

  \draw [fill=blue] (0.67,0.4) circle[radius=0.08cm];
  \draw [fill=gray] (0.67,0.3) circle[radius=0.08cm];
  \draw [fill=yellow] (0.67,0.2) circle[radius=0.08cm];
  \draw [fill=gray] (0.65,0.2) ellipse (0.1cm and 0.05cm);
  \draw [fill=green,rounded corners=0.025cm] (0.64,0.39) rectangle (0.645,0.44);
  \draw [fill=green,rounded corners=0.025cm] (0.64,0.32) rectangle (0.645,0.37);
  \draw [fill=green,rounded corners=0.025cm] (0.64,0.25) rectangle (0.645,0.3);
  \draw [fill=gray,rounded corners=0.025cm] (0.655,0.25) rectangle (0.66,0.35);
  \draw [fill=yellow,rounded corners=0.05cm] (0.64,0.15) rectangle (0.66,0.1);
  \draw [fill=yellow,rounded corners=0.05cm] (0.64,0.08) rectangle (0.66,0.03);
  \end{tikzpicture}
}




% Define note names
\newcommand{\simpleSaxDiagram}[1]{%
  \ifcase#1
      \drawSimpleSaxDiagram %C%
  \or \drawSimpleSaxDiagram %D$\flat$%
  \or \drawSimpleSaxDiagram %D%
  \or \drawSimpleSaxDiagram %E$\flat$%
  \or \drawSimpleSaxDiagram %E%
  \or \drawSimpleSaxDiagram %F%
  \or \drawSimpleSaxDiagram %F$\sharp$%
  \or \drawSimpleSaxDiagram %G%
  \or \drawSimpleSaxDiagram %A$\flat$%
  \or \drawSimpleSaxDiagram %A%
  \or \drawSimpleSaxDiagram %B$\flat$%
  \or \drawSimpleSaxDiagram %B%
  \else ?%
  \fi
}
\newcommand{\noteName}[1]{%
  \ifcase#1
      C%
  \or D$\flat$%
  \or D%
  \or E$\flat$%
  \or E%
  \or F%
  \or F$\sharp$%
  \or G%
  \or A$\flat$%
  \or A%
  \or B$\flat$%
  \or B%
  \else ?%
  \fi
}
\newcommand{\noteNameAlt}[1]{%
  \ifcase#1
      C%
  \or D$\flat$%
  \or D%
  \or E$\flat$%
  \or E%
  \or F%
  \or G$\flat$%
  \or G%
  \or A$\flat$%
  \or A%
  \or B$\flat$%
  \or B%
  \else ?%
  \fi
}
\newcommand{\noteNameMinor}[1]{%
  \ifcase#1
      C%
  \or C$\sharp$%
  \or D%
  \or D$\sharp$%
  \or E%
  \or F%
  \or F$\sharp$%
  \or G%
  \or G$\sharp$%
  \or A%
  \or B$\flat$%
  \or B%
  \else ?%
  \fi
}

\newcommand{\sheetdistance}[1]{%
  \ifcase#1
      0.6 % -            C
  \or 0.6 % --
  \or 0.7
  \or 0.8 % --------------
  \or 0.7
  \or 0.6 % --
  \or 0.6 % -            F#
  \or 0.6 % --
  \or 0.7
  \or 0.8 % --------------
  \or 0.7
  \or 0.6 % --
  \else ?%
  \fi
}

\newcommand{\convert}[1]{%
  \ifcase#1
      0
  \or -5
  \or 2
  \or -3
  \or 4
  \or -1
  \or 6
  \or 1
  \or -4
  \or 3
  \or -2
  \or 5
  \else ?%
  \fi
}

\NewDocumentCommand{\getNote}{ O{0} m }{%
  \pgfmathtruncatemacro{\idx}{mod(#2+#1+12,12)}%
  \noteName{\idx}%
}
\NewDocumentCommand{\getNoteAlt}{ O{0} m }{%
  \pgfmathtruncatemacro{\idx}{mod(#2+#1+12,12)}%
  \noteNameAlt{\idx}%
}
\NewDocumentCommand{\getNoteAltAlt}{ O{0} m }{%
  \pgfmathtruncatemacro{\idx}{mod(#2+#1+12,12)}%
  \noteNameMinor{\idx}%
}

\def\col{blue!30}

% Define positions of sharps and flats in treble clef (relative to bottom staff line index 0)
% For y positions we use: 0=line1(E), 0.5=space1(F), 1=line2(G), 1.5=space2(A), 2=line3(B), 2.5=space3(C), 3=line4(D), 3.5=space4(E), 4=line5(F)
% Sharp order: F, C, G, D, A, E, B  -> y {4,2.5,4.8,3,1.5,3.5,2}
% flat order:  B, E, A, D, G, C, F  -> y {2,3.5,1.5,3,1,2.5,4}
\newcommand{\sharpPos}{4,2.5,4.5,3,1.5,3.5,2}
\newcommand{\flatPos}{2,3.5,1.5,3,1,2.5,4}

\def\staffWidth{49.8pt}
\def\staffStep{6.23pt}

% Macro to draw staff and key signature (compact, with vertical lines)
\newcommand{\drawKeySignature}[1]{%
    % #1 is a pitch-class index (0..11). Use \convert to get number of accidentals.
    \begingroup
      \edef\accraw{\convert{#1}}%
      \pgfmathtruncatemacro{\acc}{\accraw}%
      \begin{tikzpicture}[baseline=(staff.base),scale=0.50,every node/.style={inner sep=0pt,outer sep=0pt}]
        \coordinate (staff) at (0,0);
        % compact staff parameters
        % short staff lines
        \foreach \y in {0,...,4}
        {\draw[line width=0.4pt] (0,\y*\staffStep) -- (\staffWidth,\y*\staffStep);}
        % thin vertical bar lines at left and right to visually bound the staff
        \draw[line width=0.4pt] (0,0) -- (0,4*\staffStep) --
                                (\staffWidth,4*\staffStep) -- (\staffWidth,0) -- cycle;
        % sharps
        \ifnum\acc>0
          \pgfmathtruncatemacro{\countacc}{\acc}
          \foreach [count=\i] \pos in \sharpPos {%
            \ifnum\i>\countacc\relax\else
              % compute x position so accidentals form a compact cluster
              \pgfmathsetmacro{\xpos}{0.25pt*(\i-1)+0.23pt}%
              \node at (\xpos,\pos*\staffStep-4.214pt) {$\musSharp$};
            \fi
          }
        \fi
        % flats
        \ifnum\acc<0
          \pgfmathtruncatemacro{\countacc}{abs(\acc)}
          \foreach [count=\i] \pos in \flatPos {%
            \ifnum\i>\countacc\relax\else
              \pgfmathsetmacro{\xpos}{0.25pt*(\i-1)+0.23pt}%
              \node at (\xpos,\pos*\staffStep-3.984pt) {$\musFlat$};
            \fi
          }
        \fi
      \end{tikzpicture}
    \endgroup
}

\newcommand{\drawCircularSectors}[4]{%
  % #1 = inner radius, #2 = ring width (outer = inner + width), #3 = number of divisions, #4 = placement macro
  \pgfmathsetmacro{\innerradius}{#1}%
  \pgfmathsetmacro{\widthcircle}{#2}%
  \pgfmathsetmacro{\outerradius}{\innerradius+\widthcircle}%
  \pgfmathsetmacro{\anglestep}{360/#3}%
  \pgfmathsetmacro{\offset}{\anglestep/2}%
  \pgfmathtruncatemacro{\N}{#3-1}%
  \foreach \j in {0,...,\N} {%
      \pgfmathsetmacro{\startangle}{90-\j*\anglestep+\offset}%
      \pgfmathsetmacro{\endangle}{\startangle-\anglestep}%
      \pgfmathsetmacro{\angle}{\startangle-\anglestep/2}%
      \pgfmathsetmacro{\midradius}{\innerradius+\widthcircle/2}%

      \fill[\col]
          (\startangle:\innerradius) arc (\startangle:\endangle:\innerradius) --
          (\endangle:\outerradius) arc (\endangle:\startangle:\outerradius) -- cycle;

      \draw[thick] (\startangle:\innerradius) -- (\startangle:\outerradius);
      \draw[thick] (\endangle:\innerradius) -- (\endangle:\outerradius);

      #4{\j}{\angle}{\midradius}{\outerradius}%
  }

  % Draw circles
  \draw[thick] (0,0) circle (\outerradius);
  \draw[thick] (0,0) circle (\innerradius);
}

\def\saxnotesdistance{0pt}

\newcommand{\sectorNodeDefault}[4]{%
  % #1 index, #2 angle, #3 midradius, #4 outerradius
  \pgfmathtruncatemacro{\pc}{mod(7*#1,12)}%
  \def\note{\getNote{\pc}}%
  \def\saxnote{\getNoteAlt[-2]{\pc}}%

  \ifrotateKeySignatures
    \node[font=\bfseries\large, inner sep=-1.8pt, rotate=#2-\counterrotation] (main) at (#2:#3+\labeloffset) {\note};
    \node[font=\scriptsize, anchor=north, rotate=#2-\counterrotation, text=white!30!black] at (main.south) {\saxnote};
  \else
    \node[font=\bfseries\large, inner sep=-1.8pt] (main) at (#2:#3) {\note};
    \node[font=\scriptsize, anchor=north, text=white!30!black] at (main.south) {\saxnote};
  \fi

  \ifrotateKeySignatures
    \node[anchor=base, rotate=#2-\counterrotation, shift={(0,-\staffStep)}] at (#2:{\rotatedsheetdistance+#4}) {\drawKeySignature{\pc}};
  \else
    \node[anchor=base, yshift={-1*\staffStep}] at (#2:{\sheetdistance{\j}+#4}) {\drawKeySignature{\pc}};
  \fi

  \ifsaxKeys
    \node[anchor=base, rotate=#2-\counterrotation, shift={(0,-\staffStep)}] at (#2:{\rotatedsheetdistance+#4+\saxnotesdistance}) {\simpleSaxDiagram{\pc}};
  \fi
}

\newcommand{\innerSectorNoteMinor}[4]{%
  \pgfmathtruncatemacro{\pc}{mod(7*#1 + 9,12)}%
  \def\note{\getNoteAltAlt{\pc}}%

  \ifrotateKeySignatures
    \node[font=\bfseries\large, inner sep=-1.8pt, rotate=#2-\counterrotation] at (#2:#3) {\small \note m};
  \else
    \node[font=\bfseries\large, inner sep=-1.8pt] at (#2:#3) {\small \note m};
  \fi
}

\begin{document}
\rotateKeySignaturestrue
\saxKeysfalse
\def\rotatedsheetdistance{0.4}
\def\counterrotation{90}
\def\labeloffset{0.055}
\begin{tikzpicture}
\drawCircularSectors{2.1pt}{1.0pt}{12}{\sectorNodeDefault}
\drawCircularSectors{1.5pt}{0.6pt}{12}{\innerSectorNoteMinor}
\end{tikzpicture}
\newpage
\rotateKeySignaturestrue
\saxKeystrue
\def\rotatedsheetdistance{0.6}
\def\counterrotation{0}
\def\labeloffset{0}
\begin{tikzpicture}
\drawCircularSectors{2.1pt}{1.0pt}{12}{\sectorNodeDefault}
\drawCircularSectors{1.2pt}{0.9pt}{12}{\innerSectorNoteMinor}
\end{tikzpicture}
\newpage
\begin{tikzpicture}
\rotateKeySignaturesfalse
\saxKeysfalse
\def\labeloffset{0}
\drawCircularSectors{2.1pt}{1.0pt}{12}{\sectorNodeDefault}
\drawCircularSectors{1.3pt}{0.8pt}{12}{\innerSectorNoteMinor}
\end{tikzpicture}

\end{document}
